identity:
  name: "text_to_image"
  author: "xiajian"
  label:
    en_US: "Text to Image"
    zh_Hans: "文生图"
    pt_BR: "Text to Image"
  description:
    en_US: "Text-to-image generation using VolcEngine DreamAI 3.0/3.1/4.0"
    zh_Hans: "使用火山引擎即梦AI 3.0/3.1/4.0进行文生图"
    pt_BR: "Geração de texto para imagem usando VolcEngine DreamAI 3.0/3.1/4.0"
  icon: "icon.svg"
description:
  human:
    en_US: "Text-to-image generation using VolcEngine DreamAI 3.0/3.1/4.0"
    zh_Hans: "使用火山引擎即梦AI 3.0/3.1/4.0进行文生图"
    pt_BR: "Geração de texto para imagem usando VolcEngine DreamAI 3.0/3.1/4.0"
  llm: "Text-to-image generation using VolcEngine DreamAI 3.0/3.1/4.0. Supports advanced features and watermark configuration."
parameters:
  - name: prompt
    type: string
    required: true
    label:
      en_US: Prompt
      zh_Hans: 提示词
      pt_BR: Prompt
    human_description:
      en_US: "Text prompt for image generation, supports both Chinese and English"
      zh_Hans: "用于生成图像的提示词，中英文均可输入"
      pt_BR: "Prompt de texto para geração de imagem, suporta chinês e inglês"
    llm_description: "Text prompt describing the desired image content"
    form: llm

  - name: image_urls
    type: string
    required: false
    label:
      en_US: Image URLs
      zh_Hans: 图片链接
      pt_BR: URLs de Imagem
    human_description:
      en_US: "HTTP image URLs for reference, separated by newlines"
      zh_Hans: "用于参考的图片HTTP链接，多个链接用换行分割（仅仅适用即梦4.0版本）"
      pt_BR: "URLs HTTP de imagens para referência, separadas por quebras de linha"
    llm_description: "HTTP image URLs to use as reference for generation, multiple URLs separated by newlines"
    form: form

  - name: model_version
    type: select
    required: false
    default: "3.1"
    label:
      en_US: Model Version
      zh_Hans: 模型版本
      pt_BR: Versão do Modelo
    human_description:
      en_US: "Choose between DreamAI 3.0, 3.1, 4.0 or Doubao 3.0 model"
      zh_Hans: "选择即梦AI 3.0、3.1、4.0或豆包3.0模型"
      pt_BR: "Escolha entre o modelo DreamAI 3.0, 3.1, 4.0 ou Doubao 3.0"
    llm_description: "Model version to use for generation (3.0, 3.1, 4.0 or doubao_3.0)"
    form: form
    options:
      - value: "3.0"
        label:
          en_US: "DreamAI 3.0"
          zh_Hans: "即梦AI 3.0"
          pt_BR: "DreamAI 3.0"
      - value: "3.1"
        label:
          en_US: "DreamAI 3.1"
          zh_Hans: "即梦AI 3.1"
          pt_BR: "DreamAI 3.1"
      - value: "doubao_3.0"
        label:
          en_US: "Doubao 3.0"
          zh_Hans: "豆包通用3.0-文生图"
          pt_BR: "Doubao 3.0"
      - value: "4.0"
        label:
          en_US: "DreamAI 4.0"
          zh_Hans: "即梦AI-图片生成4.0"
          pt_BR: "DreamAI 4.0"

  - name: scale
    type: number
    required: false
    default: 2.5
    min: 0.0
    max: 10.0
    precision: 2
    label:
      en_US: Scale
      zh_Hans: 影响程度
      pt_BR: Escala
    human_description:
      en_US: "Influence degree of text description. Doubao 3.0: 1-10 (default 2.5), DreamAI 4.0: 0-1 (default 0.5)"
      zh_Hans: "文本描述的影响程度。豆包3.0：1-10（默认2.5），即梦AI 4.0：0-1（默认0.5）"
      pt_BR: "Grau de influência da descrição do texto. Doubao 3.0: 1-10 (padrão 2.5), DreamAI 4.0: 0-1 (padrão 0.5)"
    llm_description: "Scale parameter affecting text description influence. For Doubao 3.0: range 1-10, default 2.5. For DreamAI 4.0: range 0-1, default 0.5"
    form: form
    depends_on:
      - variable: model_version
        value: doubao_3.0
      - variable: model_version
        value: "4.0"

  - name: size
    type: number
    required: false
    default: 4194304
    min: 1048576
    max: 16777216
    label:
      en_US: Image Size
      zh_Hans: 图像尺寸
      pt_BR: Tamanho da Imagem
    human_description:
      en_US: "Image size in pixels (1024*1024 to 4096*4096), default 2048*2048"
      zh_Hans: "图像尺寸，单位像素（1024*1024到4096*4096），默认2048*2048"
      pt_BR: "Tamanho da imagem em pixels (1024*1024 a 4096*4096), padrão 2048*2048"
    llm_description: "Image size in total pixels, range from 1048576 (1024*1024) to 16777216 (4096*4096), default 4194304 (2048*2048)"
    form: form
    depends_on:
      - variable: model_version
        value: "4.0"

  - name: width
    type: number
    required: false
    default: 1024
    label:
      en_US: Width
      zh_Hans: 宽度
      pt_BR: Largura
    human_description:
      en_US: "Image width in pixels (512-2048). For 4.0 model, if specified, height must also be specified"
      zh_Hans: "图像宽度，单位像素（512-2048）。对于4.0模型，如果指定宽度，必须同时指定高度"
      pt_BR: "Largura da imagem em pixels (512-2048). Para modelo 4.0, se especificado, altura também deve ser especificada"
    llm_description: "Width of the generated image in pixels. For 4.0 model, width and height must be specified together or not at all"
    form: form

  - name: height
    type: number
    required: false
    default: 1024
    label:
      en_US: Height
      zh_Hans: 高度
      pt_BR: Altura
    human_description:
      en_US: "Image height in pixels (512-2048). For 4.0 model, if specified, width must also be specified"
      zh_Hans: "图像高度，单位像素（512-2048）。对于4.0模型，如果指定高度，必须同时指定宽度"
      pt_BR: "Altura da imagem em pixels (512-2048). Para modelo 4.0, se especificado, largura também deve ser especificada"
    llm_description: "Height of the generated image in pixels. For 4.0 model, width and height must be specified together or not at all"
    form: form

  - name: force_single
    type: boolean
    required: false
    default: false
    label:
      en_US: Force Single Image
      zh_Hans: 强制生成单图
      pt_BR: Forçar Imagem Única
    human_description:
      en_US: "Whether to force generation of a single image"
      zh_Hans: "是否强制生成单图"
      pt_BR: "Se deve forçar a geração de uma única imagem"
    llm_description: "Whether to force generation of a single image, default false"
    form: form
    depends_on:
      - variable: model_version
        value: "4.0"

  - name: seed
    type: number
    required: false
    default: -1
    label:
      en_US: Seed
      zh_Hans: 随机种子
      pt_BR: Semente
    human_description:
      en_US: "Random seed for reproducible results (-1 for random)"
      zh_Hans: "随机种子，用于可重现的结果（-1表示随机）"
      pt_BR: "Semente aleatória para resultados reproduzíveis (-1 para aleatório)"
    llm_description: "Random seed for deterministic generation, -1 for random"
    form: form

  - name: use_pre_llm
    type: boolean
    required: false
    default: true
    label:
      en_US: Use Pre-LLM
      zh_Hans: 使用预处理LLM
      pt_BR: Usar Pre-LLM
    human_description:
      en_US: "Enable prompt preprocessing with LLM"
      zh_Hans: "启用LLM提示词预处理"
      pt_BR: "Habilitar pré-processamento de prompt com LLM"
    llm_description: "Whether to use LLM for prompt preprocessing"
    form: form

  - name: use_sr
    type: boolean
    required: false
    default: true
    label:
      en_US: Use Super Resolution
      zh_Hans: 使用超分辨率
      pt_BR: Usar Super Resolução
    human_description:
      en_US: "Enable super resolution for image enhancement"
      zh_Hans: "启用超分辨率以获得更高质量"
      pt_BR: "Habilitar super resolução para maior qualidade"
    llm_description: "Whether to apply super resolution enhancement"
    form: form

  - name: min_ratio
    type: number
    required: false
    default: 0.333
    min: 0.0625
    max: 15.999
    precision: 3
    label:
      en_US: Min Aspect Ratio
      zh_Hans: 最小宽高比
      pt_BR: Proporção Mínima
    human_description:
      en_US: "Minimum width/height ratio (1/16 to 16), default 1/3"
      zh_Hans: "生图结果的最小宽/高比（1/16到16），默认1/3"
      pt_BR: "Proporção mínima largura/altura (1/16 a 16), padrão 1/3"
    llm_description: "Minimum aspect ratio for generated image, range [1/16, 16), default 1/3"
    form: form
    depends_on:
      - variable: model_version
        value: "4.0"

  - name: max_ratio
    type: number
    required: false
    default: 3.0
    min: 0.0625
    max: 15.999
    precision: 3
    label:
      en_US: Max Aspect Ratio
      zh_Hans: 最大宽高比
      pt_BR: Proporção Máxima
    human_description:
      en_US: "Maximum width/height ratio (1/16 to 16), default 3"
      zh_Hans: "生图结果的最大宽/高比（1/16到16），默认3"
      pt_BR: "Proporção máxima largura/altura (1/16 a 16), padrão 3"
    llm_description: "Maximum aspect ratio for generated image, range [1/16, 16), default 3"
    form: form
    depends_on:
      - variable: model_version
        value: "4.0"

  - name: return_url
    type: boolean
    required: false
    default: true
    label:
      en_US: Return URL
      zh_Hans: 返回URL
      pt_BR: Retornar URL
    human_description:
      en_US: "Return image URL instead of binary data"
      zh_Hans: "返回图像URL而非二进制数据"
      pt_BR: "Retornar URL da imagem em vez de dados binários"
    llm_description: "Whether to return image URL or binary data"
    form: form

  - name: add_logo
    type: boolean
    required: false
    default: false
    label:
      en_US: Add Watermark
      zh_Hans: 添加水印
      pt_BR: Adicionar Marca D'água
    human_description:
      en_US: "Whether to add watermark to the generated image"
      zh_Hans: "是否在生成的图像上添加水印"
      pt_BR: "Se deve adicionar marca d'água à imagem gerada"
    llm_description: "Whether to add watermark. True to add, False to not add. Default is False"
    form: form

  - name: position
    type: select
    required: false
    default: 0
    label:
      en_US: Watermark Position
      zh_Hans: 水印位置
      pt_BR: Posição da Marca D'água
    human_description:
      en_US: "Position of the watermark on the image"
      zh_Hans: "水印在图像上的位置"
      pt_BR: "Posição da marca d'água na imagem"
    llm_description: "Watermark position: 0-bottom right, 1-bottom left, 2-top left, 3-top right. Default is 0"
    form: form
    depends_on:
      - variable: add_logo
        value: true
    options:
      - value: 0
        label:
          en_US: "Bottom Right"
          zh_Hans: "右下角"
          pt_BR: "Inferior Direito"
      - value: 1
        label:
          en_US: "Bottom Left"
          zh_Hans: "左下角"
          pt_BR: "Inferior Esquerdo"
      - value: 2
        label:
          en_US: "Top Left"
          zh_Hans: "左上角"
          pt_BR: "Superior Esquerdo"
      - value: 3
        label:
          en_US: "Top Right"
          zh_Hans: "右上角"
          pt_BR: "Superior Direito"

  - name: language
    type: select
    required: false
    default: 0
    label:
      en_US: Watermark Language
      zh_Hans: 水印语言
      pt_BR: Idioma da Marca D'água
    human_description:
      en_US: "Language of the watermark text"
      zh_Hans: "水印文字的语言"
      pt_BR: "Idioma do texto da marca d'água"
    llm_description: "Watermark language: 0-Chinese (AI生成), 1-English (Generated by AI). Default is 0"
    form: form
    depends_on:
      - variable: add_logo
        value: true
    options:
      - value: 0
        label:
          en_US: "Chinese (AI生成)"
          zh_Hans: "中文（AI生成）"
          pt_BR: "Chinês (AI生成)"
      - value: 1
        label:
          en_US: "English (Generated by AI)"
          zh_Hans: "英文（Generated by AI）"
          pt_BR: "Inglês (Generated by AI)"

  - name: opacity
    type: number
    required: false
    default: 1.0
    min: 0.0
    max: 1.0
    precision: 2
    label:
      en_US: Watermark Opacity
      zh_Hans: 水印不透明度
      pt_BR: Opacidade da Marca D'água
    human_description:
      en_US: "Opacity of the watermark (0-1, 1 means fully opaque)"
      zh_Hans: "水印的不透明度（0-1，1表示完全不透明）"
      pt_BR: "Opacidade da marca d'água (0-1, 1 significa totalmente opaco)"
    llm_description: "Watermark opacity, range 0-1, 1 means fully opaque. Default is 1"
    form: form
    depends_on:
      - variable: add_logo
        value: true

  - name: logo_text_content
    type: string
    required: false
    label:
      en_US: Custom Watermark Text
      zh_Hans: 自定义水印内容
      pt_BR: Texto Personalizado da Marca D'água
    human_description:
      en_US: "Custom text content for the watermark"
      zh_Hans: "水印的自定义文字内容"
      pt_BR: "Conteúdo de texto personalizado para a marca d'água"
    llm_description: "Custom watermark text content"
    form: form
    depends_on:
      - variable: add_logo
        value: true
extra:
  python:
    source: tools/text_to_image.py